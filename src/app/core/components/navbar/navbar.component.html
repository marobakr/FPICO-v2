<!-- Flowbite Navbar with Tailwind CSS -->
<nav class="bg-transparent">
  <div class="container mx-auto px-4 py-6">
    <div class="flex items-center justify-between">
      <!-- Logo Section -->
      <a
        [routerLink]="['/', languageService.selectedLanguage$ | async]"
        class="items-center hidden min-[450px]:flex"
      >
        <img
          loading="lazy"
          width="130"
          height="38"
          fetchpriority="high"
          ng-img="true"
          class="max-w-full h-auto"
          src="/images/my-fav.ico/web-app-manifest-192x192.png"
          alt="FPICO"
        />
        <img
          loading="lazy"
          src="/images/first_class.webp"
          class="w-first-image"
          alt="FPICO"
        />
      </a>

      <!-- Mobile Menu Button -->
      <button
        type="button"
        (click)="toggleMobileMenu()"
        class="inline-flex items-center p-2 w-10 h-10 justify-center text-white rounded-lg md:hidden bg-main focus:outline-none focus:ring-2 focus:ring-gray-200"
        [attr.aria-expanded]="isMobileMenuOpen"
      >
        <span class="sr-only">Open main menu</span>
        <i
          [ngClass]="
            'fa-solid ' +
            (isMobileMenuOpen ? 'fa-xmark' : 'fa-bars') +
            ' text-2xl'
          "
        ></i>
      </button>

      <!-- Navigation Links - Desktop -->
      <div class="hidden md:flex flex-1 justify-center px-8">
        <app-navbar-routing />
      </div>

      <!-- Right Side Elements -->
      <div class="flex items-center space-x-4">
        <!-- Social Media Links - Hidden on Mobile -->
        <div class="hidden md:block">
          <app-social-media-links />
        </div>

        <!-- Contact Us Button -->
        <a
          [routerLink]="[
            '/',
            languageService.selectedLanguage$ | async,
            'contact-us'
          ]"
          class="inline-flex btn-main items-center px-4 py-2 text-dark bg-primary-500 hover:bg-primary-600 focus:ring-4 focus:ring-primary-300 font-medium rounded-lg text-sm"
        >
          {{ "Pages.Home.navbar.contactUs-button" | translate }}
        </a>

        <!-- Language Selector -->
        <app-navbar-language />
      </div>
    </div>
  </div>

  <!-- Mobile Menu - Offcanvas -->
  <div
    class="fixed top-0 left-0 z-100 h-screen p-4 overflow-y-auto transition-transform bg-gray-800 w-64"
    [ngClass]="isMobileMenuOpen ? 'transform-none' : '-translate-x-full'"
    tabindex="-1"
  >
    <div
      class="flex justify-between items-center mb-6 pb-3 border-b border-gray-700"
    >
      <!-- Logo -->
      <a
        [routerLink]="['/', languageService.selectedLanguage$ | async]"
        class="flex items-center"
      >
        <img
          loading="lazy"
          width="100"
          height="30"
          class="max-w-full h-auto"
          src="/images/my-fav.ico/web-app-manifest-192x192.png"
          alt="FPICO"
        />
      </a>
      <!-- Close button -->
      <button
        type="button"
        (click)="toggleMobileMenu()"
        class="text-gray-400 bg-transparent rounded-lg text-sm w-8 h-8 inline-flex justify-center items-center hover:bg-gray-700"
      >
        <i class="fa-solid fa-xmark text-xl"></i>
        <span class="sr-only">Close menu</span>
      </button>
    </div>

    <!-- Mobile navigation menu -->
    <div class="py-2">
      <app-navbar-routing />

      <!-- Social Media Links - Mobile -->
      <div class="mt-6 pt-4 border-t border-gray-700">
        <app-social-media-links />
      </div>
    </div>
  </div>

  <!-- Backdrop for mobile menu -->
  <div
    *ngIf="isMobileMenuOpen"
    (click)="toggleMobileMenu()"
    class="fixed inset-0 z-90 bg-gray-900 bg-opacity-50 transition-opacity"
  ></div>
</nav>
